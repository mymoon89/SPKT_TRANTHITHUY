.MODEL SMALL
.STACK 64
.DATA
	CURADR		DW	0304H
	ENDADR		DB	0501H
	ENDCDE		DB	00
	READMSG	DB	'*****READ ERROR*****$'
	RECDIN		DB	512 DUP(' ')
	SIDE		DB	00
.CODE
BEGIN	PROC	FAR
	MOV	ax,@data
	MOV 	DS,AX
	MOV 	ES,AX
	MOV	AX,0600H
A20LOOP:
	CALL	Q10SCRN
	CALL	Q20CURS
	CALL	C10ADDR
	MOV	CX,CURADR
	MOV	DX,ENDADR
	CMP	CX,DX
	JE	A90
	CALL	F10READ
	CMP	ENDCDE,00
	JNZ	A90
	CALL	G10DISP
	JMP	A20LOOP
	MOV	AX,4C00H
	INT 21
BEGIN	ENDP
C10ADDR 	PROC	NEAR
		MOV	CX,CURADR
		CMP	CL,10
		JNE	C90
		MOV	CL,01
		CMP	SIDE,00
		JE	C20
		INC	CH
C20:
		XOR	SIDE,01
		MOV	CURADR,CX
C90:
		RET
C10ADDR	ENDP
F10READ		PROC	NEAR
		MOV 	AH,02H
		MOV 	AL,01
		LEA	BX,RECDIN
		MOV	CX,CURADR
		MOV	DH,SIDE
		MOV 	DL,01
		INT	13H
		CMP	AH,00
		JZ	F90
		MOV	ENDCDE,01
		CALL	X10ERR
F90:
		INC CURADR
		RET
F10READ		ENDP
G10DISP		PROC	NEAR
		MOV	AH,40H
		MOV	BX,01
		MOV 	CX,512
		LEA	DX,RECDIN
		INT 21H
		RET
G10DISP		ENDP
Q10SCRN	PROC	NEAR
		MOV	AX,0600H
		MOV	BH,1EH
		MOV	CX,0000
		MOV 	DX,184FH
		INT 10
		RET
Q10SCRN	ENDP
Q20CURS	PROC	NEAR
		MOV	AH,02H
		MOV	BH,00
		MOV	DX,0000
		INT 10H
		RET
Q20CURS	ENDP
X10ERR		PROC	NEAR
		MOV	AH,40H
		MOV	BX,01
		MOV 	CX,18
		LEA	DX,READMSG
		INT 21H
		RET
X10ERR		ENDP
END	BEGIN
